<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.web.wzy.mapper.DatabaseConfigMapper">
    <!-- 自定义映射 -->
    <resultMap id="DatabaseConfig" type="cn.com.web.wzy.dto.DatabaseConfig">
        <id column="id" property="id" />
        <result column="config_name" property="configName" />
        <result column="database_type" property="databaseType" />
        <result column="database_name" property="databaseName" />
        <result column="create_time" property="createTime" />
        <result column="update_time" property="updateTime" />
        <result column="is_delete" property="isDelete" />
    </resultMap>

    <select id="queryByConfigName" resultType="int">
        SELECT COUNT(*) FROM database_config
        <where>
            config_name = #{configName}
        </where>
    </select>

    <insert id="insertDatabaseConfig">
        INSERT INTO database_config(
            config_name,
            database_type,
            host,
            port,
            database_name,
            username,
            password,
            create_time
        )VALUES(
            #{configName},
            #{databaseType},
            #{host},
            #{port},
            #{databaseName},
            #{username},
            #{password},
            NOW()
        )
    </insert>
</mapper>